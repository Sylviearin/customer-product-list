{"version":3,"sources":["store/reducers/public/products/constants.ts","store/reducers/public/products/actions.ts","store/reducers/public/products/reducer.ts","common/constants.ts","store/reducers/public/products/sagas/productsSaga.ts","common/components/Header/index.tsx","screens/Home/ProductItem/index.tsx","screens/Home/ModalConfirmation/index.tsx","screens/Home/ProductList/index.tsx","screens/Home/SortPanel/index.tsx","common/components/generateUniqueId.ts","common/components/ProductModal/index.tsx","screens/Home/index.tsx","common/formatDate.ts","screens/ItemDescription/NewCommentSection/index.tsx","screens/ItemDescription/CommentItem/index.tsx","screens/ItemDescription/DetailedItem/index.tsx","screens/ItemDescription/index.tsx","routes/PublicRouter.tsx","App.tsx","store/reducers/public/products/sagas/commentsSaga.ts","store/reducers/index.ts","store/store.ts","index.tsx"],"names":["PRODUCTS_FETCH","PRODUCTS_DATA","PRODUCTS_ERROR","PRODUCTS_ADD","PRODUCTS_EDIT","PRODUCTS_REMOVE","PRODUCTS_SORT_BY_COUNT","PRODUCTS_SORT_BY_NAME","PRODUCTS_ADD_COMMENT","PRODUCTS_DELETE_COMMENT","PRODUCTS_SET_ACTIVE","PRODUCTS_DELETE_ACTIVE","productsFetch","type","productsData","payload","productsError","error","initialProductsState","list","active","loading","mockData","id","imageUrl","name","count","size","width","height","weight","comments","productId","description","date","storageData","productsSaga","productsRemoveSaga","productsAddSaga","productsEditSaga","rootProductsSaga","action","localStorage","getItem","data","JSON","parse","setItem","stringify","put","e","response","select","state","public","products","filter","item","console","log","concat","map","takeLatest","takeEvery","Header","className","to","ProductItem","setConfirmToDelete","history","useHistory","dispatch","useDispatch","src","alt","onClick","push","length","show","ModalConfirmation","handleClose","close","Modal","onHide","closeButton","Title","Body","Footer","Button","variant","ProductList","useSelector","useState","confirmToDelete","Spinner","animation","SortPanel","sortByCount","setSortByCount","sortByName","setSortByName","useEffect","generateUniqueId","parseInt","Date","now","toString","Math","random","substr","ProductModal","image","setImage","setName","amount","setAmount","setWeight","onSubmit","preventDefault","productsEdit","productsAdd","htmlFor","required","value","onChange","target","placeholder","pattern","min","form","Home","setShow","formatDate","a","CommentSection","userComment","setUserComment","message","setError","errorMessage","today","month","getMonth","hours","getHours","minutes","getMinutes","formattedDate","getFullYear","comment","disabled","CommentItem","commentId","DetailedItem","ItemDescription","find","activeItem","setActiveItem","PublicRouter","basename","process","exact","path","component","App","commentsAddSaga","commentsRemoveSaga","rootCommentsSaga","rootSaga","publicReducer","combineReducers","sort","b","rootReducer","all","call","composeEnhancers","compose","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","ReactDOM","render","document","getElementById"],"mappings":"sZAAaA,EAAiB,gBACjBC,EAAgB,eAChBC,EAAiB,gBAEjBC,EAAe,cACfC,EAAgB,eAChBC,EAAkB,iBAElBC,EAAyB,wBACzBC,EAAwB,uBAExBC,EAAuB,sBACvBC,EAA0B,yBAE1BC,EAAsB,qBACtBC,EAAyB,wBC+EzBC,EAAgB,iBAAsB,CAC/CC,KAAMb,IAGGc,EAAe,SAACC,GAAD,MAAqD,CAC7EF,KAAMZ,EACNc,YAGSC,EAAgB,SAACC,GAAD,MAAwC,CACjEJ,KAAMX,EACNe,U,eChFSC,EAAsC,CAC/CC,KAAM,GACNC,OAAQ,KACRC,SAAS,G,wBC1BAC,EAAuB,CAChC,CACIC,GAAI,EACJC,SAAU,gEACVC,KAAM,UACNC,MAAO,EACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,YACNC,MAAO,GACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,QACNC,MAAO,EACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,OACNC,MAAO,EACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,SACNC,MAAO,EACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,WACNC,MAAO,EACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,QACNC,MAAO,GACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,sBAIlB,CACIX,GAAI,EACJC,SAAU,gEACVC,KAAM,cACNC,MAAO,IACPC,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZC,OAAQ,OACRC,SAAU,CACN,CACIR,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,oBAEV,CACIX,GAAI,EACJS,UAAW,EACXC,YAAa,iBACbC,KAAM,uBAKTC,EAAsB,c,WClOzBC,G,WAmBAC,G,WAgBAC,G,WAgBAC,G,WAsBOC,GAzEjB,SAAUJ,EAAaK,GAAvB,2EAE2B,OAF3B,kBAEiCC,aAAaC,QAAQ,eAFtD,UAEYC,EAFZ,OAKwB,QAFZ7B,EAAqB8B,KAAKC,MAAMF,IAH5C,iBAQY,OAFAF,aAAaK,QAAQZ,EAAaU,KAAKG,UAAU1B,IACjDP,EAAUO,EAPtB,UAQkB2B,YAAInC,EAAaC,IARnC,QAUQ,OAVR,UAUckC,YAAInC,EAAaC,IAV/B,gCAcQ,OAdR,0BAaYmC,EAAiB,KAAMC,SAbnC,UAccF,YAAIjC,EAAckC,IAdhC,sDAmBA,SAAUb,EAAmBI,GAA7B,yEAEiC,OAFjC,kBAEuCW,aAAQ,SAACC,GAAD,OACnCA,EAAMC,OAAOC,SAASpC,KAAKqC,QAAO,SAAAC,GAAI,OAAIA,EAAKlC,KAAOkB,EAAO1B,cAHzE,OAKQ,OAHIA,EAFZ,gBAKc2B,aAAaK,QAAQZ,EAAaU,KAAKG,UAAUjC,IAL/D,OAMQ,OANR,SAMckC,YAAIrC,KANlB,+BAWQ,OAXR,0BASQ8C,QAAQC,IAAR,MACIT,EAAiB,KAAMC,SAVnC,UAWcF,YAAIjC,EAAckC,IAXhC,sDAgBA,SAAUZ,EAAgBG,GAA1B,yEAEiC,OAFjC,kBAEuCW,aAAQ,SAACC,GAAD,OACnCA,EAAMC,OAAOC,SAASpC,KAAKyC,OAAOnB,EAAO1B,YAHrD,OAKQ,OAHIA,EAFZ,gBAKc2B,aAAaK,QAAQZ,EAAaU,KAAKG,UAAUjC,IAL/D,OAMQ,OANR,SAMckC,YAAIrC,KANlB,+BAWQ,OAXR,0BASQ8C,QAAQC,IAAR,MACIT,EAAiB,KAAMC,SAVnC,UAWcF,YAAIjC,EAAckC,IAXhC,sDAgBA,SAAUX,EAAiBE,GAA3B,yEAEiC,OAFjC,kBAEuCW,aAAQ,SAACC,GAAD,OACnCA,EAAMC,OAAOC,SAASpC,KAAK0C,KAAI,SAAAJ,GAC3B,OAAIA,EAAKlC,KAAOkB,EAAO1B,QAAQQ,GACpBkB,EAAO1B,QAEX0C,QAPvB,OAWQ,OATI1C,EAFZ,gBAWc2B,aAAaK,QAAQZ,EAAaU,KAAKG,UAAUjC,IAX/D,OAYQ,OAZR,SAYckC,YAAIrC,KAZlB,+BAiBQ,OAjBR,0BAeQ8C,QAAQC,IAAR,MACIT,EAAiB,KAAMC,SAhBnC,UAiBcF,YAAIjC,EAAckC,IAjBhC,sDAsBO,SAAUV,IAAV,iEACH,OADG,SACGsB,YAAW9D,EAAgBoC,GAD9B,OAEH,OAFG,SAEG0B,YAAWzD,EAAiBgC,GAF/B,OAGH,OAHG,SAGG0B,YAAU5D,EAAcmC,GAH3B,OAIH,OAJG,SAIGyB,YAAU3D,EAAemC,GAJ5B,uC,iCC1EMyB,EAAmB,WAE5B,OACI,qBAAKzC,GAAG,SAAS0C,UAAU,iBAA3B,SACI,oBAAIA,UAAU,uBAAd,SACI,oBAAIA,UAAU,cAAd,SACI,cAAC,IAAD,CAAMC,GAAG,IAAT,yBCDPC,G,MAA+B,SAAC,GAAgC,IAA/BV,EAA8B,EAA9BA,KAAMW,EAAwB,EAAxBA,mBAE1CC,EAAUC,cACVC,EAAWC,cAcjB,OACI,sBAAKP,UAAU,qBAAf,UACI,sBAAKA,UAAU,qDAAf,UACI,mBAAGA,UAAU,cAAb,SAA4BR,EAAKhC,OACjC,qBACIG,MAAO6B,EAAK9B,KAAKC,MACjBC,OAAQ4B,EAAK9B,KAAKE,OAClB4C,IAAKhB,EAAKjC,SACVkD,IAAI,WACJT,UAAU,YACVU,QAtBI,WL2FS,IAAC5D,EK1F1BwD,GL0F0BxD,EK1FC0C,EAAKlC,GL0FkC,CACtEV,KAAMH,EACNK,aK3FIsD,EAAQO,KAAK,eAuBL,qBAAKX,UAAU,YAAf,SACI,sBAAKA,UAAU,6BAAf,UACI,qBAAKA,UAAU,WAAf,qBACA,qBAAKA,UAAU,WAAf,SAA2BR,EAAK/B,aAGxC,qBAAKuC,UAAU,YAAf,SACI,sBAAKA,UAAU,6BAAf,UACI,qBAAKA,UAAU,WAAf,wBACA,qBAAKA,UAAU,WAAf,SAA2BR,EAAK1B,SAAS8C,cAGjD,qBAAKZ,UAAU,YAAf,SACI,sBAAKA,UAAU,6BAAf,UACI,qBAAKA,UAAU,WAAf,sBACA,qBAAKA,UAAU,WAAf,SAA2BR,EAAK3B,iBAI5C,sBACImC,UAAU,2BACVU,QAzCS,WACjBP,EAAmB,CACf7C,GAAIkC,EAAKlC,GACTuD,MAAM,KAoCN,yB,gCCjDCC,G,MAAqC,SAAC,GAA6B,IAA5BD,EAA2B,EAA3BA,KAAME,EAAqB,EAArBA,YAAazD,EAAQ,EAARA,GAE7DgD,EAAWC,cAUXS,EAAQ,WACVD,KAGJ,OACI,eAACE,EAAA,EAAD,CAAOJ,KAAMA,EAAMK,OAAQF,EAA3B,UACI,cAACC,EAAA,EAAMlB,OAAP,CAAcoB,aAAW,EAAzB,SACI,cAACF,EAAA,EAAMG,MAAP,uBAEJ,cAACH,EAAA,EAAMI,KAAP,2CACA,cAACJ,EAAA,EAAMK,OAAP,UACI,qBAAKtB,UAAU,6BAAf,SACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,WAAf,SACI,cAACuB,EAAA,EAAD,CAAQ7D,KAAK,KAAK8D,QAAQ,SAASd,QAASM,EAA5C,kBAIJ,qBAAKhB,UAAU,WAAf,SACI,cAACuB,EAAA,EAAD,CAAQ7D,KAAK,KAAK8D,QAAQ,UAAUd,QA3BvC,WAEC,kBAAPpD,GACPgD,ENkGwD,CAChE1D,KAAMR,EACNU,QMpGgCQ,IAE5B0D,KAsBoB,+BC9BfS,EAAwB,WAEjC,IAAM9C,EAAO+C,aAAa,SAACtC,GAAD,OACtBA,EAAMC,OAAOC,SAASpC,QAGpBE,EAAUsE,aAAa,SAACtC,GAAD,OACzBA,EAAMC,OAAOC,SAASlC,WAEpBkD,EAAWC,cATsB,EAUOoB,mBAAS,CACnDrE,GAAI,KACJuD,MAAM,IAZ6B,mBAUhCe,EAVgC,KAUfzB,EAVe,KA6BvC,OACI,sBAAKH,UAAU,YAAf,UACI,qBAAKA,UAAU,MAAf,SACK5C,EACK,qBAAK4C,UAAU,qCAAf,SAAoD,cAAC6B,EAAA,EAAD,CAASC,UAAU,aACvEnD,EAAKiC,OAAS,EACVjC,EAAKiB,KAAI,SAAAJ,GAAI,OACX,qBAEIQ,UAAU,gCAFd,SAII,cAAC,EAAD,CACIR,KAAMA,EACNW,mBAAoBA,KALnBX,EAAKlC,OAUlB,sBAAK0C,UAAU,cAAf,6CAEI,sBACIA,UAAU,qBACVU,QAlCR,WAChBjC,aAAaK,QAAQZ,EAAaU,KAAKG,UAAU1B,IACjDiD,EAAS3D,MA8BW,+BAOhB,cAAC,EAAD,CACIkE,KAAMe,EAAgBf,KACtBvD,GAAIsE,EAAgBtE,GACpByD,YArCQ,WAChBZ,EAAmB,2BACZyB,GADW,IAEdf,MAAM,YC7BLkB,G,MAAsB,WAE/B,IAAMzB,EAAWC,cAFoB,EAGCoB,oBAAS,GAHV,mBAG9BK,EAH8B,KAGjBC,EAHiB,OAIDN,oBAAS,GAJR,mBAI9BO,EAJ8B,KAIlBC,EAJkB,KAMrCC,qBAAU,WACN9B,ER0GuE,CAC3E1D,KAAMP,EACNS,QQ5GiCkF,MAC9B,CAACA,IAEJI,qBAAU,WACN9B,ER2GqE,CACzE1D,KAAMN,EACNQ,QQ7GgCoF,MAC7B,CAACA,IAUJ,OACI,qBAAKlC,UAAU,YAAf,SACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,WAAf,SACI,yBAAQA,UAAU,kDAAkDU,QAZ1D,WACtBuB,GAAgBD,IAWJ,2BACkB,sBAAMhC,UAAWgC,EAAc,wBAA0B,+BAAzD,yBAGtB,qBAAKhC,UAAU,WAAf,SACI,wBAAQA,UAAU,kDAAkDU,QAb3D,WACrByB,GAAeD,IAYH,SACI,iDAAoBA,EAAa,QAAU,sBCzCtDG,G,MAAmB,WAC5B,OAAOC,SAASC,KAAKC,MAAMC,SAAS,IAAMC,KAAKC,SAASF,SAAS,IAAIG,OAAO,GAAI,MCavEC,EAAgC,SAAC,GAA+B,IAA9BhC,EAA6B,EAA7BA,KAAME,EAAuB,EAAvBA,YAAavB,EAAU,EAAVA,KAExDc,EAAWC,cAFuD,EAI9CoB,mBAAS,IAJqC,mBAIjEmB,EAJiE,KAI1DC,EAJ0D,OAKhDpB,mBAAS,IALuC,mBAKjEnE,EALiE,KAK3DwF,EAL2D,OAM5CrB,mBAAiB,IAN2B,mBAMjEsB,EANiE,KAMzDC,EANyD,OAO5CvB,mBAAS,IAPmC,mBAOjE9D,EAPiE,KAOzDsF,EAPyD,KAwDxEf,qBAAU,WACF5C,IACAuD,EAASvD,EAAKjC,UACdyF,EAAQxD,EAAKhC,MACb0F,EAAU1D,EAAK/B,MAAMgF,YACrBU,EAAU3D,EAAK3B,WAEpB,CAAC2B,IAEJ,IAAMwB,EAAQ,WACVD,GAAY,IAkBhB,OACI,eAACE,EAAA,EAAD,CAAOJ,KAAMA,EAAMK,OAAQF,EAA3B,UACI,cAACC,EAAA,EAAMlB,OAAP,CAAcoB,aAAW,EAAzB,SACI,cAACF,EAAA,EAAMG,MAAP,UAAc5B,EAAO,SAAW,aAEpC,cAACyB,EAAA,EAAMI,KAAP,UACI,sBAAM/D,GAAG,gBAAgB8F,SAjFhB,SAACnE,GAGlB,GAFAA,EAAEoE,iBAEE7D,EAAM,CACN,IAAI1C,EAAmB,CACnBQ,GAAIkC,EAAKlC,GACTC,SAAUuF,EACVtF,OACAC,MAAO6E,SAASW,EAAQ,IACxBpF,SACAH,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZE,SAAU0B,EAAK1B,UAGnBwC,EV2GgB,SAACxD,GAAD,MAAqC,CAC7DF,KAAMT,EACNW,WU7GiBwG,CAAaxG,IACtBiG,EAAS,IACTC,EAAQ,IACRE,EAAU,IACVC,EAAU,IACVnC,QACG,CACH,IAAIlE,EAAmB,CACnBQ,GAAI+E,IACJ9E,SAAUuF,EACVtF,OACAC,MAAO6E,SAASW,EAAQ,IACxBpF,SACAH,KAAM,CACFC,MAAO,IACPC,OAAQ,KAEZE,SAAU,IAGdwC,EVkFe,SAACxD,GAAD,MAAoC,CAC3DF,KAAMV,EACNY,WUpFiByG,CAAYzG,IACrBiG,EAAS,IACTC,EAAQ,IACRE,EAAU,IACVC,EAAU,IACVnC,MAuCI,SACI,sBAAKhB,UAAU,YAAf,UACI,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,YAAf,UACI,uBAAOwD,QAAQ,UAAUxD,UAAU,aAAnC,2BACA,uBACIyD,UAAQ,EACRnG,GAAG,UACHV,KAAK,MACL8G,MAAOZ,EACPa,SA/Bd,SAAC1E,GACf8D,EAAU9D,EAAE2E,OAA4BF,QA+BZG,YAAY,qBACZ7D,UAAU,eACV8D,QAAQ,kFAKpB,qBAAK9D,UAAU,WAAf,SACI,sBAAKA,UAAU,YAAf,UACI,uBAAOwD,QAAQ,OAAOxD,UAAU,aAAhC,0BACA,uBACIyD,UAAU,EACVnG,GAAG,OACHV,KAAK,OACL8G,MAAOlG,EACPmG,SA3Cb,SAAC1E,GAChB+D,EAAS/D,EAAE2E,OAA4BF,QA2CXG,YAAY,wBACZ7D,UAAU,eACV8D,QAAQ,qBAKpB,qBAAK9D,UAAU,WAAf,SACI,sBAAKA,UAAU,YAAf,UACI,uBAAOwD,QAAQ,QAAQxD,UAAU,aAAjC,4BACA,uBACIyD,UAAU,EACVnG,GAAG,QACHV,KAAK,SACL8G,MAAOT,EACPU,SAvDX,SAAC1E,GAClBiE,EAAWjE,EAAE2E,OAA4BF,QAuDbG,YAAY,0BACZ7D,UAAU,eACV+D,IAAI,WAKhB,qBAAK/D,UAAU,WAAf,SACI,sBAAKA,UAAU,YAAf,UACI,uBAAOwD,QAAQ,SAASxD,UAAU,aAAlC,4BACA,uBACIyD,UAAU,EACVnG,GAAG,SACHV,KAAK,OACL8G,MAAO7F,EACP8F,SAnEX,SAAC1E,GAClBkE,EAAWlE,EAAE2E,OAA4BF,QAmEbG,YAAY,0BACZ7D,UAAU,eACV8D,QAAQ,4CAQhC,cAAC7C,EAAA,EAAMK,OAAP,UACI,qBAAKtB,UAAU,8BAAf,SACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,WAAf,SACI,cAACuB,EAAA,EAAD,CAAQ7D,KAAK,KAAK8D,QAAQ,SAASd,QAASM,EAA5C,kBAIJ,qBAAKhB,UAAU,WAAf,SACI,cAACuB,EAAA,EAAD,CACI3E,KAAK,SACLoH,KAAK,gBACLtG,KAAK,KACL8D,QAAQ,UAJZ,8BC/KfyC,GAAiB,WAAO,IAAD,EAERtC,oBAAS,GAFD,mBAEzBd,EAFyB,KAEnBqD,EAFmB,KAIhC,OACI,gCACI,cAAC,EAAD,IACA,cAAC,EAAD,IACA,qBAAKlE,UAAU,iBAAf,SACI,wBAAQA,UAAU,kBAAkBU,QAAS,kBAAMwD,GAAQ,IAA3D,6BAEJ,cAAC,EAAD,IACA,cAAC,EAAD,CAAcrD,KAAMA,EAAME,YAAamD,QCjBtCC,I,MAAa,SAACC,GACvB,OAAIA,EAAI,GACE,IAAN,OAAWA,GAERA,EAAE3B,aCaA4B,I,MAAkC,SAAC,GAAY,IAAX7E,EAAU,EAAVA,KAEvCc,EAAWC,cAFsC,EAGjBoB,mBAAS,IAHQ,mBAGhD2C,EAHgD,KAGnCC,EAHmC,OAI7B5C,mBAAqB,CAC3CvC,OAAO,EACPoF,QAAS,KAN0C,mBAIhDxH,EAJgD,KAIzCyH,EAJyC,KAWvDrC,qBAAU,WACN,GAAIkC,EAAY1D,OAAS,EAAG,CACxB,IAAI8D,EAAe,GACfJ,EAAY1D,QAAU,MACtB8D,GAAgB,4BAGhBD,EADAC,EACS,CACLtF,OAAO,EACPoF,QAASE,GAGJ,CACLtF,OAAO,EACPoF,QAAS,UAIjBC,EAAS,CACLrF,OAAO,EACPoF,QAAS,OAKlB,CAACF,IAkCJ,OACI,qBAAKtE,UAAU,6DAAf,SACI,uBAAMoD,SA7BO,SAACnE,GAClBA,EAAEoE,iBAEF,IbmE2BvG,EanErBQ,EAAK+E,IAELsC,EAAQ,IAAIpC,KACdqC,EAAgBT,GAAWQ,EAAME,WAAa,GAC9CC,EAAgBX,GAAWQ,EAAMI,YACjCC,EAAkBb,GAAWQ,EAAMM,cAEnCC,EAAa,UAAMJ,EAAN,YAAeH,EAAMM,aAArB,YAAqCD,EAArC,YAAgDJ,EAAhD,YAAyDD,EAAMQ,eAG1EC,EAAmB,CACrBrH,UAAWyB,EAAKlC,GAChBA,KACAW,KAAMiH,EACNlH,YAAasG,GAGjBhE,GbkD2BxD,EalDC,CACxBiB,UAAWyB,EAAKlC,GAChB8H,WbgDuF,CAC/FxI,KAAML,EACNO,aahDIyH,EAAe,KAKX,UACI,qBAAKvE,UAAU,YAAf,SACI,qBAAKA,UAAU,WAAf,SACI,sBAAKA,UAAU,YAAf,UACI,uBAAOwD,QAAQ,cAAcxD,UAAU,aAAvC,4BACA,uBACIyD,UAAQ,EACRnG,GAAG,cACHV,KAAK,OACLiH,YAAY,wBACZ7D,UAAU,eACV0D,MAAOY,EACPX,SA9CR,SAAC1E,GACjB,IAAI2E,EAAS3E,EAAE2E,OACfW,EAAeX,EAAOF,QA6CEI,QAAQ,mBAEX9G,EAAMoC,OACP,uBAAOY,UAAU,qBAAjB,SAAuChD,EAAMwH,iBAMzD,qBAAKxE,UAAU,MAAf,SACI,qBAAKA,UAAU,WAAf,SACI,wBAAQA,UAAU,eAAepD,KAAK,SAASyI,SAAUrI,EAAMoC,MAA/D,gCCzGXkG,I,MAA+B,SAAC,GAAY,IAAX9F,EAAU,EAAVA,KAGpCc,EAAWC,cASjB,OAEI,sBACIP,UAAU,oDADd,UAGI,oBAAGA,UAAU,oBAAb,mBAAwCR,EAAKvB,QAC7C,mBAAG+B,UAAU,oBAAb,SAAkCR,EAAKxB,cACvC,sBACIgC,UAAU,2BACVU,QAhBS,Wd0HY,IAAC5D,EczH9BwD,GdyH8BxD,EczHC,CAC3BiB,UAAWyB,EAAKzB,UAChBwH,UAAW/F,EAAKlC,IduHgF,CACxGV,KAAMJ,EACNM,cc9GQ,yBClBC0I,GAAgC,SAAC,GAAY,IAAXhG,EAAU,EAAVA,KAErC1B,EAAW0B,EAAK1B,SAF+B,EAG7B6D,oBAAS,GAHoB,mBAG9Cd,EAH8C,KAGxCqD,EAHwC,KAKrD,OACI,qCACI,sBAAKlE,UAAU,4GAAf,UACI,mBAAGA,UAAU,cAAb,SAA4BR,EAAKhC,OACjC,qBACIG,MAAO6B,EAAK9B,KAAKC,MACjBC,OAAQ4B,EAAK9B,KAAKE,OAClB4C,IAAKhB,EAAKjC,SACVkD,IAAI,aAER,qBAAKT,UAAU,YAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,WAAf,qBACA,qBAAKA,UAAU,WAAf,SAA2BR,EAAK/B,aAGxC,qBAAKuC,UAAU,YAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,WAAf,wBACA,qBAAKA,UAAU,WAAf,SAA2BR,EAAK1B,SAAS8C,cAGjD,qBAAKZ,UAAU,YAAf,SACI,sBAAKA,UAAU,kBAAf,UACI,qBAAKA,UAAU,WAAf,sBACA,qBAAKA,UAAU,WAAf,SAA2BR,EAAK3B,cAGxC,sBAAMmC,UAAU,sBAAsBU,QAAS,kBAAMwD,GAAQ,IAA7D,uBAEJ,sBAAKlE,UAAU,oDAAf,UACI,oBAAIA,UAAU,cAAd,sBACClC,EAAS8C,OAAS,EACb9C,EAAS8B,KAAI,SAAAJ,GAAI,OACf,cAAC,GAAD,CAEIA,KAAMA,GADDA,EAAKzB,UAAU0E,WAAajD,EAAKlC,GAAGmF,eAI/C,qBAAKzC,UAAU,cAAf,oCAGV,cAAC,GAAD,CACIR,KAAMA,IAEV,cAAC,EAAD,CAAcqB,KAAMA,EAAME,YAAamD,EAAS1E,KAAMA,QCnDrDiG,GAA4B,WAErC,IAAMnF,EAAWC,cACXpD,EAASuE,aAAY,SAACtC,GAAD,OACvBA,EAAMC,OAAOC,SAASnC,UAGpBwB,EAAO+C,aAAa,SAACtC,GAAD,OACtBA,EAAMC,OAAOC,SAASpC,QARiB,EAWPyE,mBAAShD,EAAK+G,MAAK,SAAAlG,GAAI,OAAIA,EAAKlC,KAAOH,MAXhC,mBAWpCwI,EAXoC,KAWxBC,EAXwB,KAyB3C,OAZAxD,qBAAU,WACS,OAAXjF,GACAyI,EAAcjH,EAAK+G,MAAK,SAAAlG,GAAI,OAAIA,EAAKlC,KAAOH,QAEjD,CAACA,EAAQwB,IAEZyD,qBAAU,WACN,OAAO,WACH9B,EhBkFqD,CAC7D1D,KAAMF,OgBjFH,IAGC,gCACI,cAAC,EAAD,IACA,qBAAKsD,UAAU,YAAf,SACI,qBAAKA,UAAU,6BAAf,SACKrB,GAAQxB,GAAUwI,EACb,cAAC,GAAD,CAAcnG,KAAMmG,IACpB,cAAC,IAAD,CAAU1F,GAAG,cC9B1B4F,GAAyB,WAElC,IAAMvF,EAAWC,cAMjB,OAJA6B,qBAAU,WACN9B,EAAS3D,OACV,IAIC,cAAC,IAAD,CAAemJ,SAAUC,yBAAzB,SACI,eAAC,IAAD,WACI,cAAC,IAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWjC,KACjC,cAAC,IAAD,CAAOgC,KAAK,WAAWC,UAAWT,KAElC,cAAC,IAAD,CAAOQ,KAAK,KAAZ,SAAiB,cAAC,IAAD,CAAUhG,GAAG,cCV/BkG,I,YARO,WACpB,OACI,qBAAKnG,UAAU,MAAf,SACE,cAAC,GAAD,Q,8BCFEoG,I,YAyBAC,I,YAsBOC,IA/CjB,SAAUF,GAAgB5H,GAA1B,yEAEiC,OAFjC,kBAEuCW,aAAQ,SAACC,GAAD,OACnCA,EAAMC,OAAOC,SAASpC,KAAK0C,KAAI,SAACJ,GAA4B,IAAD,EAC1BhB,EAAO1B,QAA7BiB,EADgD,EAChDA,UAAWqH,EADqC,EACrCA,QAClB,OAAI5F,EAAKlC,KAAOS,GACZyB,EAAK1B,SAAS6C,KAAKyE,GACZ5F,GAEAA,QAT3B,OAcQ,OAZI1C,EAFZ,gBAcc2B,aAAaK,QAAQZ,EAAaU,KAAKG,UAAUjC,IAd/D,OAeQ,OAfR,SAeckC,YAAIrC,KAflB,+BAoBQ,OApBR,0BAkBQ8C,QAAQC,IAAR,MACIT,EAAiB,KAAMC,SAnBnC,UAoBcF,YAAIjC,EAAckC,IApBhC,uDAyBA,SAAUoH,GAAmB7H,GAA7B,yEAEiC,OAFjC,kBAEuCW,aAAQ,SAACC,GAAD,OACnCA,EAAMC,OAAOC,SAASpC,KAAK0C,KAAI,SAAAJ,GAAS,IAAD,EACJhB,EAAO1B,QAA/BiB,EAD4B,EAC5BA,UAAWwH,EADiB,EACjBA,UAIlB,OAHI/F,EAAKlC,KAAOS,IACZyB,EAAK1B,SAAW0B,EAAK1B,SAASyB,QAAO,SAAAC,GAAI,OAAIA,EAAKlC,KAAOiI,MAEtD/F,QARvB,OAWQ,OATI1C,EAFZ,gBAWc2B,aAAaK,QAAQZ,EAAaU,KAAKG,UAAUjC,IAX/D,OAYQ,OAZR,SAYckC,YAAIrC,KAZlB,+BAiBQ,OAjBR,0BAeQ8C,QAAQC,IAAR,MACIT,EAAiB,KAAMC,SAhBnC,UAiBcF,YAAIjC,EAAckC,IAjBhC,uDAsBO,SAAUqH,KAAV,iEACH,OADG,SACGzG,YAAWtD,EAAsB6J,IADpC,OAEH,OAFG,SAEGvG,YAAWrD,EAAyB6J,IAFvC,wC,gBCjCUE,IAXJC,GAAgBC,aAAgB,CACzCnH,SnBkB2B,WAA0E,IAAzEF,EAAwE,uDAAhEnC,EAAsBuB,EAA0C,uCACpG,OAAQA,EAAO5B,MACX,KAAKb,EACD,OAAO,2BACAqD,GADP,IAEIhC,SAAS,IAEjB,KAAKpB,EACD,OAAO,2BACAoD,GADP,IAEIhC,SAAS,EACTF,KAAMsB,EAAO1B,UAIrB,KAAKb,EACD,OAAO,2BACAmD,GADP,IAEIhC,SAAS,EACTJ,MAAOwB,EAAOxB,QAEtB,KAAKP,EACD,OAAO,2BACA2C,GADP,IAEIjC,OAAQqB,EAAO1B,UAEvB,KAAKJ,EACD,OAAO,2BACA0C,GADP,IAEIjC,OAAQ,OAEhB,KAAKf,EACD,OAAO,2BACAgD,GADP,IAEIhC,SAAS,IAGjB,KAAKlB,EACL,KAAKC,EACL,KAAKE,EACD,OAAO,2BACA+C,GADP,IAEIlC,KAAK,YAAKkC,EAAMlC,KAAKwJ,MAAK,SAACtC,EAAGuC,GAC1B,OAAIvC,EAAE3G,MAAQkJ,EAAElJ,MACRe,EAAO1B,SACC,EAEL,EAGPsH,EAAE3G,MAAQkJ,EAAElJ,MACRe,EAAO1B,QACA,GAEH,EAGL,QAGnB,KAAKR,EACD,OAAO,2BACA8C,GADP,IAEIlC,KAAK,YAAKkC,EAAMlC,KAAKwJ,MAAK,SAACtC,EAAGuC,GAC1B,OAAIvC,EAAE5G,KAAOmJ,EAAEnJ,KACPgB,EAAO1B,SACC,EAEL,EAGPsH,EAAE5G,KAAOmJ,EAAEnJ,KACPgB,EAAO1B,QACA,GAEH,EAGL,QAInB,KAAKP,EACL,KAAKC,EACL,QACI,OAAO4C,MmBlGNwH,GAAcH,aAAgB,CACvCpH,OAAQmH,KAIL,SAAUD,KAAV,iEACH,OADG,SACGM,YAAI,CACNC,YAAKvI,GACLuI,YAAKR,MAHN,wCCnBP,IAAMS,GAMoDC,KAGpDC,GAAiBC,eAGjBC,GAAQC,aACVR,GACAG,GAAiBM,aAAgBJ,MCVrCA,GAAeK,IAAIf,IAEEgB,IAASC,OAC1B,cAAC,IAAD,CAAUL,MAAOA,GAAjB,SACI,cAAC,GAAD,MAEJM,SAASC,eAAe,W","file":"static/js/main.7a2811ce.chunk.js","sourcesContent":["export const PRODUCTS_FETCH = 'PRODUCT_FETCH';\r\nexport const PRODUCTS_DATA = 'PRODUCT_DATA';\r\nexport const PRODUCTS_ERROR = 'PRODUCT_ERROR';\r\n\r\nexport const PRODUCTS_ADD = 'PRODUCT_ADD';\r\nexport const PRODUCTS_EDIT = 'PRODUCT_EDIT';\r\nexport const PRODUCTS_REMOVE = 'PRODUCT_REMOVE';\r\n\r\nexport const PRODUCTS_SORT_BY_COUNT = 'PRODUCT_SORT_BY_COUNT';\r\nexport const PRODUCTS_SORT_BY_NAME = 'PRODUCT_SORT_BY_NAME';\r\n\r\nexport const PRODUCTS_ADD_COMMENT = 'PRODUCT_ADD_COMMENT';\r\nexport const PRODUCTS_DELETE_COMMENT = 'PRODUCT_DELETE_COMMENT';\r\n\r\nexport const PRODUCTS_SET_ACTIVE = 'PRODUCT_SET_ACTIVE';\r\nexport const PRODUCTS_DELETE_ACTIVE = 'PRODUCT_DELETE_ACTIVE';\r\n","import {CommonError} from '../../types';\r\nimport {\r\n    PRODUCTS_ADD,\r\n    PRODUCTS_ADD_COMMENT,\r\n    PRODUCTS_DATA,\r\n    PRODUCTS_DELETE_ACTIVE, PRODUCTS_DELETE_COMMENT, PRODUCTS_EDIT,\r\n    PRODUCTS_ERROR,\r\n    PRODUCTS_FETCH,\r\n    PRODUCTS_REMOVE,\r\n    PRODUCTS_SET_ACTIVE,\r\n    PRODUCTS_SORT_BY_COUNT,\r\n    PRODUCTS_SORT_BY_NAME\r\n} from './constants';\r\nimport {Comment, Product,} from './types';\r\n\r\n\r\nexport interface ProductsFetch {\r\n    type: typeof PRODUCTS_FETCH;\r\n}\r\n\r\nexport interface ProductsData {\r\n    type: typeof PRODUCTS_DATA;\r\n    payload: Product[];\r\n}\r\n\r\nexport interface ProductsError {\r\n    type: typeof PRODUCTS_ERROR;\r\n    error: CommonError;\r\n}\r\n\r\nexport interface ProductsSetActive {\r\n    type: typeof PRODUCTS_SET_ACTIVE;\r\n    payload: number;\r\n}\r\n\r\nexport interface ProductsDeleteActive {\r\n    type: typeof PRODUCTS_DELETE_ACTIVE;\r\n}\r\n\r\nexport interface ProductsRemove {\r\n    type: typeof PRODUCTS_REMOVE;\r\n    payload: number;\r\n}\r\n\r\nexport interface ProductsSortByCount {\r\n    type: typeof PRODUCTS_SORT_BY_COUNT;\r\n    payload: boolean;\r\n}\r\n\r\nexport interface ProductsSortByName {\r\n    type: typeof PRODUCTS_SORT_BY_NAME;\r\n    payload: boolean;\r\n}\r\n\r\nexport interface ProductsAddComment {\r\n    type: typeof PRODUCTS_ADD_COMMENT;\r\n    payload: {\r\n      productId: number,\r\n      comment: Comment,\r\n    };\r\n}\r\n\r\nexport interface ProductsDeleteComment {\r\n    type: typeof PRODUCTS_DELETE_COMMENT;\r\n    payload: {\r\n        productId: number,\r\n        commentId: number,\r\n    };\r\n}\r\n\r\nexport interface ProductsAdd {\r\n    type: typeof PRODUCTS_ADD;\r\n    payload: Product;\r\n}\r\n\r\nexport interface ProductsEdit {\r\n    type: typeof PRODUCTS_EDIT;\r\n    payload: Product\r\n}\r\n\r\nexport type ProductsAction = ProductsFetch\r\n    | ProductsData\r\n    | ProductsError\r\n    | ProductsSetActive\r\n    | ProductsDeleteActive\r\n    | ProductsRemove\r\n    | ProductsSortByCount\r\n    | ProductsSortByName\r\n    | ProductsAddComment\r\n    | ProductsDeleteComment\r\n    | ProductsAdd\r\n    | ProductsEdit\r\n\r\n\r\nexport const productsFetch = (): ProductsFetch => ({\r\n    type: PRODUCTS_FETCH,\r\n});\r\n\r\nexport const productsData = (payload: ProductsData['payload']): ProductsData => ({\r\n    type: PRODUCTS_DATA,\r\n    payload,\r\n});\r\n\r\nexport const productsError = (error: CommonError): ProductsError => ({\r\n    type: PRODUCTS_ERROR,\r\n    error,\r\n});\r\n\r\nexport const productsSetActive = (payload: number): ProductsSetActive => ({\r\n    type: PRODUCTS_SET_ACTIVE,\r\n    payload,\r\n});\r\n\r\nexport const productsDeleteActive = (): ProductsDeleteActive => ({\r\n    type: PRODUCTS_DELETE_ACTIVE,\r\n});\r\n\r\nexport const productsRemove = (payload: number): ProductsRemove => ({\r\n    type: PRODUCTS_REMOVE,\r\n    payload\r\n});\r\n\r\nexport const productsSortByCount = (payload: boolean): ProductsSortByCount => ({\r\n    type: PRODUCTS_SORT_BY_COUNT,\r\n    payload\r\n});\r\n\r\nexport const productsSortByName = (payload: boolean): ProductsSortByName => ({\r\n    type: PRODUCTS_SORT_BY_NAME,\r\n    payload\r\n});\r\n\r\nexport const productsAddComment = (payload: ProductsAddComment['payload']): ProductsAddComment => ({\r\n    type: PRODUCTS_ADD_COMMENT,\r\n    payload\r\n});\r\n\r\nexport const productsDeleteComment = (payload: ProductsDeleteComment['payload']): ProductsDeleteComment => ({\r\n    type: PRODUCTS_DELETE_COMMENT,\r\n    payload\r\n});\r\n\r\nexport const productsAdd = (payload: Product): ProductsAdd => ({\r\n    type: PRODUCTS_ADD,\r\n    payload\r\n});\r\n\r\nexport const productsEdit = (payload: Product): ProductsEdit => ({\r\n    type: PRODUCTS_EDIT,\r\n    payload\r\n});\r\n","import {CommonError} from '../../types';\r\nimport {ProductsAction} from './actions';\r\nimport {\r\n    PRODUCTS_ADD,\r\n    PRODUCTS_ADD_COMMENT,\r\n    PRODUCTS_DATA,\r\n    PRODUCTS_DELETE_ACTIVE,\r\n    PRODUCTS_DELETE_COMMENT, PRODUCTS_EDIT,\r\n    PRODUCTS_ERROR,\r\n    PRODUCTS_FETCH,\r\n    PRODUCTS_REMOVE,\r\n    PRODUCTS_SET_ACTIVE,\r\n    PRODUCTS_SORT_BY_COUNT,\r\n    PRODUCTS_SORT_BY_NAME\r\n} from './constants';\r\nimport {Product} from './types';\r\n\r\n\r\nexport interface ProductsState {\r\n    list: Product[];\r\n    loading: boolean;\r\n    active: null | number;\r\n    error?: CommonError;\r\n}\r\n\r\nexport const initialProductsState: ProductsState = {\r\n    list: [],\r\n    active: null,\r\n    loading: false,\r\n\r\n};\r\n\r\nexport const productsReducer = (state = initialProductsState, action: ProductsAction): ProductsState => {\r\n    switch (action.type) {\r\n        case PRODUCTS_FETCH:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            };\r\n        case PRODUCTS_DATA: {\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                list: action.payload,\r\n            };\r\n        }\r\n\r\n        case PRODUCTS_ERROR:\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                error: action.error,\r\n            };\r\n        case PRODUCTS_SET_ACTIVE:\r\n            return  {\r\n                ...state,\r\n                active: action.payload\r\n            }\r\n        case PRODUCTS_DELETE_ACTIVE:\r\n            return  {\r\n                ...state,\r\n                active: null,\r\n            }\r\n        case PRODUCTS_REMOVE:\r\n            return {\r\n                ...state,\r\n                loading: true,\r\n            }\r\n\r\n        case PRODUCTS_ADD:\r\n        case PRODUCTS_EDIT:\r\n        case PRODUCTS_SORT_BY_COUNT:\r\n            return {\r\n                ...state,\r\n                list: [...state.list.sort((a, b) => {\r\n                    if (a.count > b.count) {\r\n                        if (action.payload) {\r\n                            return -1;\r\n                        }\r\n                        return 1;\r\n                    }\r\n\r\n                    if (a.count < b.count) {\r\n                        if (action.payload) {\r\n                            return 1;\r\n                        }\r\n                        return -1;\r\n                    }\r\n\r\n                    return 0;\r\n                })]\r\n            }\r\n        case PRODUCTS_SORT_BY_NAME:\r\n            return {\r\n                ...state,\r\n                list: [...state.list.sort((a, b) => {\r\n                    if (a.name > b.name) {\r\n                        if (action.payload) {\r\n                            return -1;\r\n                        }\r\n                        return 1;\r\n                    }\r\n\r\n                    if (a.name < b.name) {\r\n                        if (action.payload) {\r\n                            return 1;\r\n                        }\r\n                        return -1;\r\n                    }\r\n\r\n                    return 0;\r\n                })]\r\n            }\r\n\r\n        case PRODUCTS_ADD_COMMENT:\r\n        case PRODUCTS_DELETE_COMMENT:\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n","import {Product} from \"../store/reducers/public/products/types\";\r\n\r\nexport const mockData: Product[] =  [\r\n    {\r\n        id: 1,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Cabbage',\r\n        count: 4,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 1,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\",\r\n            },\r\n            {\r\n                id: 2,\r\n                productId: 1,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 1,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 2,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Pineapple',\r\n        count: 42,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 2,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 2,\r\n                productId: 2,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 2,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 3,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Apple',\r\n        count: 2,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 3,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 2,\r\n                productId: 3,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 3,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 4,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Kiwi',\r\n        count: 0,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 4,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 2,\r\n                productId: 4,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 4,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 5,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Tomato',\r\n        count: 0,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 5,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 2,\r\n                productId: 5,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 5,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 6,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Cucumber',\r\n        count: 4,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 6,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 2,\r\n                productId: 6,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 6,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 7,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Mango',\r\n        count: 23,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 7,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n    {\r\n        id: 8,\r\n        imageUrl: 'https://agrosealgh.com/wp-content/uploads/2021/05/cabbage.jpg',\r\n        name: 'Cranberries',\r\n        count: 400,\r\n        size: {\r\n            width: 200,\r\n            height: 200\r\n        },\r\n        weight: '200g',\r\n        comments: [\r\n            {\r\n                id: 1,\r\n                productId: 8,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n            {\r\n                id: 3,\r\n                productId: 8,\r\n                description: 'some text here',\r\n                date: \"14:00 22.08.2021\"\r\n            },\r\n        ]\r\n    },\r\n];\r\nexport const storageData: string = 'productData';\r\n","import {put, select, takeLatest, takeEvery} from 'redux-saga/effects';\r\nimport {PRODUCTS_ADD, PRODUCTS_EDIT, PRODUCTS_FETCH, PRODUCTS_REMOVE} from '../constants';\r\nimport {ProductsAdd, productsData, productsError, ProductsFetch, productsFetch, ProductsRemove} from \"../actions\";\r\nimport {Product} from \"../types\";\r\nimport {RootState} from \"../../../index\";\r\nimport {mockData, storageData} from \"../../../../../common/constants\";\r\nimport {CommonError} from \"../../../types\";\r\n\r\nfunction* productsSaga(action: ProductsFetch) {\r\n    try {\r\n        let data: string = yield localStorage.getItem('productData');\r\n        let payload: Product[] = JSON.parse(data);\r\n\r\n        if (payload === null) {\r\n            localStorage.setItem(storageData, JSON.stringify(mockData));\r\n            payload = mockData;\r\n            yield put(productsData(payload));\r\n        }\r\n        yield put(productsData(payload));\r\n\r\n    } catch (error: any) {\r\n        let e: CommonError = error.response;\r\n        yield put(productsError(e));\r\n\r\n    }\r\n}\r\n\r\nfunction* productsRemoveSaga(action: ProductsRemove) {\r\n    try {\r\n        let payload: Product[] = yield select( (state: RootState): Product[] =>\r\n            state.public.products.list.filter(item => item.id !== action.payload)\r\n        );\r\n        yield localStorage.setItem(storageData, JSON.stringify(payload));\r\n        yield put(productsFetch());\r\n\r\n    } catch (error: any) {\r\n        console.log(error)\r\n        let e: CommonError = error.response;\r\n        yield put(productsError(e));\r\n\r\n    }\r\n}\r\n\r\nfunction* productsAddSaga(action: ProductsAdd) {\r\n    try {\r\n        let payload: Product[] = yield select( (state: RootState): Product[] =>\r\n            state.public.products.list.concat(action.payload)\r\n        );\r\n        yield localStorage.setItem(storageData, JSON.stringify(payload));\r\n        yield put(productsFetch());\r\n\r\n    } catch (error: any) {\r\n        console.log(error)\r\n        let e: CommonError = error.response;\r\n        yield put(productsError(e));\r\n\r\n    }\r\n}\r\n\r\nfunction* productsEditSaga(action: ProductsAdd) {\r\n    try {\r\n        let payload: Product[] = yield select( (state: RootState): Product[] =>\r\n            state.public.products.list.map(item => {\r\n                if (item.id === action.payload.id) {\r\n                    return action.payload\r\n                }\r\n                return item\r\n                }\r\n            )\r\n        );\r\n        yield localStorage.setItem(storageData, JSON.stringify(payload));\r\n        yield put(productsFetch());\r\n\r\n    } catch (error: any) {\r\n        console.log(error)\r\n        let e: CommonError = error.response;\r\n        yield put(productsError(e));\r\n\r\n    }\r\n}\r\n\r\nexport function* rootProductsSaga() {\r\n    yield takeLatest(PRODUCTS_FETCH, productsSaga);\r\n    yield takeLatest(PRODUCTS_REMOVE, productsRemoveSaga);\r\n    yield takeEvery(PRODUCTS_ADD, productsAddSaga);\r\n    yield takeEvery(PRODUCTS_EDIT, productsEditSaga);\r\n}\r\n","//Base imports\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// styles import\r\nimport './styles.scss';\r\n\r\nexport const Header: React.FC = () => {\r\n\r\n    return (\r\n        <nav id=\"navbar\" className=\"navbar-wrapper\">\r\n            <ul className=\"navbar-links-wrapper\">\r\n                <li className=\"navbar-item\">\r\n                    <Link to='/'>Home</Link>\r\n                </li>\r\n            </ul>\r\n        </nav>\r\n    )\r\n}","import React from \"react\";\r\nimport {Product} from \"../../../store/reducers/public/products/types\";\r\nimport './styles.scss';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {productsSetActive} from \"../../../store/reducers/public/products\";\r\nimport {useHistory} from \"react-router-dom\";\r\n\r\nexport interface Props  {\r\n    item: Product;\r\n    setConfirmToDelete: Function;\r\n}\r\n\r\nexport const ProductItem: React.FC<Props> = ({item, setConfirmToDelete}) => {\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const handleClick = (): void => {\r\n        dispatch(productsSetActive(item.id));\r\n        history.push('/product')\r\n    }\r\n\r\n    const handleDelete = (): void => {\r\n        setConfirmToDelete({\r\n            id: item.id,\r\n            show: true,\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\" position-relative\" >\r\n            <div className=\"d-flex align-items-center flex-column product-item\">\r\n                <p className=\"text-center\">{item.name}</p>\r\n                <img\r\n                    width={item.size.width}\r\n                    height={item.size.height}\r\n                    src={item.imageUrl}\r\n                    alt=\"item-img\"\r\n                    className=\"c-pointer\"\r\n                    onClick={handleClick}\r\n                />\r\n\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-lg-5\">Count: </div>\r\n                        <div className=\"col-lg-5\">{item.count}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-lg-5\">Comments: </div>\r\n                        <div className=\"col-lg-5\">{item.comments.length}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"row justify-content-center\">\r\n                        <div className=\"col-lg-5\">Weight: </div>\r\n                        <div className=\"col-lg-5\">{item.weight}</div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <span\r\n                className=\"product-item-delete-mark\"\r\n                onClick={handleDelete}\r\n            >&#10006;</span>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport \"./styles.scss\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {productsRemove} from \"../../../store/reducers/public/products\";\r\n\r\nexport interface Props  {\r\n    show: boolean;\r\n    id: number | null;\r\n    handleClose: Function;\r\n}\r\n\r\nexport const ModalConfirmation: React.FC<Props> = ({show, handleClose, id}) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const handleDelete = () => {\r\n\r\n        if (typeof id === \"number\") {\r\n            dispatch(productsRemove(id))\r\n        }\r\n        close()\r\n    }\r\n\r\n    const close = () => {\r\n        handleClose()\r\n    }\r\n\r\n    return (\r\n        <Modal show={show} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>Delete</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>Are you sure to delete item?</Modal.Body>\r\n            <Modal.Footer>\r\n                <div className=\"container btn-delete-group\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-6\">\r\n                            <Button size=\"lg\" variant=\"danger\" onClick={close}>\r\n                                No\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"col-lg-6\">\r\n                            <Button size=\"lg\" variant=\"success\" onClick={handleDelete}>\r\n                                Yes\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n","import React, { useEffect, useState} from \"react\";\r\nimport {ProductItem} from \"../ProductItem\";\r\nimport { Spinner} from \"react-bootstrap\";\r\nimport {Product} from \"../../../store/reducers/public/products/types\";\r\n\r\n// Styles import\r\nimport './styles.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {productsFetch} from \"../../../store/reducers/public/products\";\r\nimport {RootState} from \"../../../store/reducers\";\r\nimport {ModalConfirmation} from \"../ModalConfirmation\";\r\nimport {mockData, storageData} from \"../../../common/constants\";\r\n\r\nexport const ProductList: React.FC = () => {\r\n\r\n    const data = useSelector( (state: RootState): Product[] =>\r\n        state.public.products.list\r\n    )\r\n\r\n    const loading = useSelector( (state: RootState): boolean =>\r\n        state.public.products.loading\r\n    )\r\n    const dispatch = useDispatch();\r\n    const [confirmToDelete, setConfirmToDelete] = useState({\r\n        id: null,\r\n        show: false,\r\n    })\r\n\r\n\r\n\r\n    const handleClick = () => {\r\n        localStorage.setItem(storageData, JSON.stringify(mockData));\r\n        dispatch(productsFetch())\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setConfirmToDelete({\r\n            ...confirmToDelete,\r\n            show: false,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                {loading\r\n                    ? <div className=\"mt-5 d-flex justify-content-center\"><Spinner animation='border'/></div>\r\n                    : data.length > 0\r\n                        ? data.map(item => (\r\n                            <div\r\n                                key={item.id}\r\n                                className=\"col-lg-4 product-item-wrapper\"\r\n                            >\r\n                                <ProductItem\r\n                                    item={item}\r\n                                    setConfirmToDelete={setConfirmToDelete}\r\n                                />\r\n                            </div>\r\n                        ))\r\n                        :\r\n                        <div className=\"text-center\">\r\n                            Dont have items... Create new or\r\n                            <span\r\n                                className=\"inline-load-mocked\"\r\n                                onClick={handleClick}\r\n                            > load mocked</span>\r\n                        </div>\r\n                }\r\n            </div>\r\n            <ModalConfirmation\r\n                show={confirmToDelete.show}\r\n                id={confirmToDelete.id}\r\n                handleClose={handleClose}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n","//Base imports\r\nimport React, {useEffect, useState} from 'react';\r\n\r\n// Styles import\r\nimport './styles.scss';\r\nimport {useDispatch} from \"react-redux\";\r\nimport {productsSortByCount, productsSortByName} from \"../../../store/reducers/public/products\";\r\n\r\n\r\nexport const SortPanel: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [sortByCount, setSortByCount] = useState(false);\r\n    const [sortByName, setSortByName] = useState(false);\r\n\r\n    useEffect(() => {\r\n        dispatch(productsSortByCount(sortByCount))\r\n    }, [sortByCount])\r\n\r\n    useEffect(() => {\r\n        dispatch(productsSortByName(sortByName))\r\n    }, [sortByName])\r\n\r\n    const handleSortByCount = () => {\r\n        setSortByCount(!sortByCount)\r\n    }\r\n\r\n    const handleSortByName = () => {\r\n        setSortByName(!sortByName)\r\n    }\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-6\">\r\n                    <button className=\"btn btn-primary w-100 bg-transparent text-black\" onClick={handleSortByCount}>\r\n                        Sort by count <span className={sortByCount ? \"fw-bold sort-by-count\" : \"fw-bold sort-by-count rotate\"}>&#9660;</span>\r\n                    </button>\r\n                </div>\r\n                <div className=\"col-lg-6\">\r\n                    <button className=\"btn btn-primary w-100 bg-transparent text-black\" onClick={handleSortByName}>\r\n                        <span>Sort by name {sortByName ? \"(z-A)\" : \"(A-z)\"}</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","export const generateUniqueId = (): number => {\r\n    return parseInt(Date.now().toString(36) + Math.random().toString(36).substr(2), 10);\r\n}\r\n","import React, {SyntheticEvent, useEffect, useState} from \"react\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport \"./styles.scss\"\r\nimport {useDispatch} from \"react-redux\";\r\nimport {Product} from \"../../../store/reducers/public/products/types\";\r\nimport {productsAdd, productsEdit} from \"../../../store/reducers/public/products\";\r\nimport {generateUniqueId} from \"../generateUniqueId\";\r\n\r\nexport interface Props  {\r\n    show: boolean;\r\n    handleClose: Function;\r\n    item?: Product\r\n}\r\n\r\nexport const ProductModal: React.FC<Props> = ({show, handleClose, item}) => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const [image, setImage] = useState('');\r\n    const [name, setName] = useState('');\r\n    const [amount, setAmount] = useState<string>('');\r\n    const [weight, setWeight] = useState('');\r\n\r\n    const handleSubmit = (e: SyntheticEvent) => {\r\n        e.preventDefault()\r\n\r\n        if (item) {\r\n            let payload: Product = {\r\n                id: item.id,\r\n                imageUrl: image,\r\n                name,\r\n                count: parseInt(amount, 10),\r\n                weight,\r\n                size: {\r\n                    width: 200,\r\n                    height: 200,\r\n                },\r\n                comments: item.comments,\r\n\r\n            };\r\n            dispatch(productsEdit(payload));\r\n            setImage('')\r\n            setName('')\r\n            setAmount('')\r\n            setWeight('')\r\n            close();\r\n        } else {\r\n            let payload: Product = {\r\n                id: generateUniqueId(),\r\n                imageUrl: image,\r\n                name,\r\n                count: parseInt(amount, 10),\r\n                weight,\r\n                size: {\r\n                    width: 200,\r\n                    height: 200,\r\n                },\r\n                comments: [],\r\n\r\n            };\r\n            dispatch(productsAdd(payload));\r\n            setImage('')\r\n            setName('')\r\n            setAmount('')\r\n            setWeight('')\r\n            close();\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (item) {\r\n            setImage(item.imageUrl)\r\n            setName(item.name)\r\n            setAmount(item.count.toString())\r\n            setWeight(item.weight)\r\n        }\r\n    }, [item])\r\n\r\n    const close = () => {\r\n        handleClose(false)\r\n    }\r\n\r\n    const handleImg = (e: SyntheticEvent) => {\r\n        setImage((e.target as HTMLInputElement).value)\r\n    }\r\n\r\n    const handleName = (e: SyntheticEvent) => {\r\n        setName((e.target as HTMLInputElement).value)\r\n    }\r\n\r\n    const handleAmount = (e: SyntheticEvent) => {\r\n        setAmount((e.target as HTMLInputElement).value)\r\n    }\r\n\r\n    const handleWeight = (e: SyntheticEvent) => {\r\n        setWeight((e.target as HTMLInputElement).value)\r\n    }\r\n    return (\r\n        <Modal show={show} onHide={close}>\r\n            <Modal.Header closeButton>\r\n                <Modal.Title>{item ? 'Redact' : 'Create'}</Modal.Title>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <form id=\"product-modal\" onSubmit={handleSubmit}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-12\">\r\n                                <label htmlFor=\"img-url\" className=\"form-label\">Product image</label>\r\n                                <input\r\n                                    required\r\n                                    id=\"img-url\"\r\n                                    type=\"url\"\r\n                                    value={image}\r\n                                    onChange={handleImg}\r\n                                    placeholder=\"Enter image url...\"\r\n                                    className=\"form-control\"\r\n                                    pattern=\"^https?://(?:[a-z0-9\\-]+\\.)+[a-z]{2,6}(?:/[^/#?]+)+\\.(?:jpg|gif|png)$\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-12\">\r\n                                <label htmlFor=\"name\" className=\"form-label\">Product name</label>\r\n                                <input\r\n                                    required={true}\r\n                                    id=\"name\"\r\n                                    type=\"text\"\r\n                                    value={name}\r\n                                    onChange={handleName}\r\n                                    placeholder=\"Enter product name...\"\r\n                                    className=\"form-control\"\r\n                                    pattern=\"^[A-z\\s]+$\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-12\">\r\n                                <label htmlFor=\"count\" className=\"form-label\">Product amount</label>\r\n                                <input\r\n                                    required={true}\r\n                                    id=\"count\"\r\n                                    type=\"number\"\r\n                                    value={amount}\r\n                                    onChange={handleAmount}\r\n                                    placeholder=\"Enter product amount...\"\r\n                                    className=\"form-control\"\r\n                                    min=\"0\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"row mb-3\">\r\n                            <div className=\"col-lg-12\">\r\n                                <label htmlFor=\"weight\" className=\"form-label\">Product weight</label>\r\n                                <input\r\n                                    required={true}\r\n                                    id=\"weight\"\r\n                                    type=\"text\"\r\n                                    value={weight}\r\n                                    onChange={handleWeight}\r\n                                    placeholder=\"Enter product weight...\"\r\n                                    className=\"form-control\"\r\n                                    pattern=\"/^[\\d]${0,9}+\\.(?:g|kg)$/\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                </form>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <div className=\"container btn-product-modal\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-6\">\r\n                            <Button size=\"lg\" variant=\"danger\" onClick={close}>\r\n                                No\r\n                            </Button>\r\n                        </div>\r\n                        <div className=\"col-lg-6\">\r\n                            <Button\r\n                                type=\"submit\"\r\n                                form=\"product-modal\"\r\n                                size=\"lg\"\r\n                                variant=\"success\"\r\n                            >Yes\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n}\r\n","//Base imports\r\nimport React, {useState} from 'react';\r\nimport {Header} from \"../../common/components/Header\";\r\nimport {ProductList} from \"./ProductList\";\r\nimport {SortPanel} from \"./SortPanel\";\r\nimport {ProductModal} from \"../../common/components/ProductModal\";\r\n\r\nexport const Home: React.FC = () => {\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <SortPanel />\r\n            <div className=\"container pt-2\">\r\n                <button className=\"btn btn-primary\" onClick={() => setShow(true)}>+ New product</button>\r\n            </div>\r\n            <ProductList />\r\n            <ProductModal show={show} handleClose={setShow} />\r\n        </div>\r\n    )\r\n}\r\n","// Format date, if less than 10 and a 0 before number\r\n// example input: 9 -> output: 09\r\nexport const formatDate = (a: number): string => {\r\n    if (a < 10) {\r\n        return `0${a}`\r\n    }\r\n    return a.toString()\r\n}\r\n","import React, { SyntheticEvent, useEffect, useState} from \"react\";\r\nimport {Comment, Product} from \"../../../store/reducers/public/products/types\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {productsAddComment} from \"../../../store/reducers/public/products\";\r\nimport {formatDate} from \"../../../common/formatDate\";\r\n\r\n// Styles import\r\nimport './styles.scss'\r\nimport {generateUniqueId} from \"../../../common/components/generateUniqueId\";\r\n\r\nexport interface Props  {\r\n    item: Product\r\n}\r\n\r\nexport interface ErrorState {\r\n    state: boolean,\r\n    message: string,\r\n}\r\n\r\nexport const CommentSection: React.FC<Props> = ({item}) => {\r\n\r\n    const dispatch = useDispatch();\r\n    const [userComment, setUserComment] = useState('');\r\n    const [error, setError] = useState<ErrorState>({\r\n        state: false,\r\n        message: '',\r\n    });\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        if (userComment.length > 0) {\r\n            let errorMessage = ''\r\n            if (userComment.length >= 255) {\r\n                errorMessage += 'Max symbols length - 255';\r\n            }\r\n            if (errorMessage) {\r\n                setError({\r\n                    state: true,\r\n                    message: errorMessage\r\n                })\r\n            } else {\r\n                setError({\r\n                    state: false,\r\n                    message: '',\r\n                });\r\n            }\r\n        } else {\r\n            setError({\r\n                state: false,\r\n                message: '',\r\n            });\r\n        }\r\n\r\n\r\n    }, [userComment])\r\n\r\n    const handleInput = (e: SyntheticEvent<HTMLInputElement>) => {\r\n        let target = e.target as HTMLInputElement\r\n        setUserComment(target.value);\r\n    }\r\n\r\n    const handleSubmit = (e: SyntheticEvent) => {\r\n        e.preventDefault();\r\n\r\n        const id = generateUniqueId(); // Generate unique ID\r\n\r\n        const today = new Date();\r\n        let month: string = formatDate(today.getMonth() + 1),\r\n            hours: string = formatDate(today.getHours()),\r\n            minutes: string = formatDate(today.getMinutes());\r\n\r\n        let formattedDate = `${hours}:${today.getMinutes()} ${minutes}.${month}.${today.getFullYear()}` // Format date to Model\r\n\r\n        // Create payload for new Comment\r\n        const comment: Comment = {\r\n            productId: item.id,\r\n            id,\r\n            date: formattedDate,\r\n            description: userComment\r\n        }\r\n\r\n        dispatch(productsAddComment({\r\n            productId: item.id,\r\n            comment\r\n        }));\r\n        setUserComment('')\r\n\r\n    }\r\n    return (\r\n        <div className=\"d-flex flex-column new-comment-wrapper col-lg-12 pt-3 pb-3\">\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"container\">\r\n                    <div className=\"row mb-3\">\r\n                        <div className=\"col-lg-12\">\r\n                            <label htmlFor=\"new-comment\" className=\"form-label\">Create comment</label>\r\n                            <input\r\n                                required\r\n                                id=\"new-comment\"\r\n                                type=\"text\"\r\n                                placeholder=\"Enter your comment...\"\r\n                                className=\"form-control\"\r\n                                value={userComment}\r\n                                onChange={handleInput}\r\n                                pattern=\"/^[\\w\\s.]+$/\"\r\n                            />\r\n                            {error.state &&\r\n                            <small className=\"error-text fw-bold\">{error.message}</small>\r\n\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-2\">\r\n                        <button className=\"btn btn-dark\" type=\"submit\" disabled={error.state}>Comment</button>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport {Comment} from \"../../../store/reducers/public/products/types\";\r\nimport './styles.scss'\r\nimport {useDispatch} from \"react-redux\";\r\nimport {productsDeleteComment} from \"../../../store/reducers/public/products\";\r\n\r\nexport interface Props  {\r\n    item: Comment\r\n}\r\n\r\nexport const CommentItem: React.FC<Props> = ({item}) => {\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const handleDelete = () => {\r\n        dispatch(productsDeleteComment({\r\n            productId: item.productId,\r\n            commentId: item.id\r\n        }))\r\n    }\r\n\r\n    return (\r\n\r\n        <div\r\n            className=\"d-flex flex-column comment-item position-relative\"\r\n        >\r\n            <p className=\"comment-item-date\">Date: {item.date}</p>\r\n            <p className=\"comment-item-text\">{item.description}</p>\r\n            <span\r\n                className=\"product-item-delete-mark\"\r\n                onClick={handleDelete}\r\n            >&#10006;</span>\r\n        </div>\r\n\r\n    )\r\n}\r\n","import {Product} from \"../../../store/reducers/public/products/types\";\r\nimport './styles.scss'\r\nimport {CommentSection} from \"../NewCommentSection\";\r\nimport {CommentItem} from \"../CommentItem\";\r\nimport React, {useState} from \"react\";\r\nimport {ProductModal} from \"../../../common/components/ProductModal\";\r\n\r\nexport interface Props  {\r\n    item: Product\r\n}\r\n\r\nexport const DetailedItem: React.FC<Props> = ({item}) => {\r\n\r\n    const comments = item.comments;\r\n    const [show, setShow] = useState(false)\r\n\r\n    return (\r\n        <>\r\n            <div className=\"d-flex align-items-center flex-column product-item mb-3 col-lg-6 justify-content-center position-relative\">\r\n                <p className=\"text-center\">{item.name}</p>\r\n                <img\r\n                    width={item.size.width}\r\n                    height={item.size.height}\r\n                    src={item.imageUrl}\r\n                    alt=\"item-img\"\r\n                />\r\n                <div className=\"container\">\r\n                    <div className=\"row text-center\">\r\n                        <div className=\"col-lg-6\">Count: </div>\r\n                        <div className=\"col-lg-6\">{item.count}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"row text-center\">\r\n                        <div className=\"col-lg-6\">Comments: </div>\r\n                        <div className=\"col-lg-6\">{item.comments.length}</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"container\">\r\n                    <div className=\"row text-center\">\r\n                        <div className=\"col-lg-6\">Weight: </div>\r\n                        <div className=\"col-lg-6\">{item.weight}</div>\r\n                    </div>\r\n                </div>\r\n                <span className=\"product-item-redact\" onClick={() => setShow(true)}>Redact</span>\r\n            </div>\r\n            <div className=\"d-flex flex-column comment-wrapper col-lg-12 mb-3\">\r\n                <h2 className=\"text-center\">Comments</h2>\r\n                {comments.length > 0\r\n                    ? comments.map(item => (\r\n                        <CommentItem\r\n                            key={item.productId.toString() + item.id.toString()}\r\n                            item={item}\r\n                        />\r\n                    ))\r\n                    : <div className=\"text-center\">No comments here...</div>\r\n                }\r\n            </div>\r\n            <CommentSection\r\n                item={item}\r\n            />\r\n            <ProductModal show={show} handleClose={setShow} item={item} />\r\n        </>\r\n    )\r\n}\r\n","import React, {useEffect, useState} from \"react\";\r\nimport {Header} from \"../../common/components/Header\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {RootState} from \"../../store/reducers\";\r\nimport {Product} from \"../../store/reducers/public/products/types\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {DetailedItem} from \"./DetailedItem\";\r\nimport {productsDeleteActive} from \"../../store/reducers/public/products\";\r\n\r\n\r\nexport const ItemDescription: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const active = useSelector((state: RootState): number | null =>\r\n        state.public.products.active\r\n    );\r\n\r\n    const data = useSelector( (state: RootState): Product[] =>\r\n        state.public.products.list\r\n    )\r\n\r\n    const [activeItem, setActiveItem] = useState(data.find(item => item.id === active))\r\n\r\n    useEffect(() => {\r\n        if (active !== null) {\r\n            setActiveItem(data.find(item => item.id === active))\r\n        }\r\n    }, [active, data]);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            dispatch(productsDeleteActive())\r\n        }\r\n    }, [])\r\n\r\n    return (\r\n        <div>\r\n            <Header />\r\n            <div className=\"container\">\r\n                <div className=\"row justify-content-center\">\r\n                    {data && active && activeItem\r\n                        ? <DetailedItem item={activeItem} />\r\n                        : <Redirect to=\"/\" />\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}","//Base imports\r\nimport React, {useEffect} from 'react';\r\nimport {Route, Switch, BrowserRouter, Redirect} from 'react-router-dom';\r\nimport {productsFetch} from \"../store/reducers/public/products\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\n// Screens import\r\nimport {Home} from \"../screens/Home\";\r\nimport {ItemDescription} from \"../screens/ItemDescription\";\r\n\r\n\r\n\r\nexport const PublicRouter: React.FC = () => {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    useEffect(() => {\r\n        dispatch(productsFetch());\r\n    }, [])\r\n\r\n    return (\r\n\r\n        <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n            <Switch>\r\n                <Route exact path=\"/\" component={Home} />\r\n                <Route path=\"/product\" component={ItemDescription} />\r\n\r\n                <Route path=\"**\"><Redirect to=\"/\"/></Route>\r\n\r\n            </Switch>\r\n        </BrowserRouter>\r\n    )\r\n}\r\n","import React from 'react';\nimport {PublicRouter} from \"./routes/PublicRouter\";\n\n// global styles import\nimport './assets/css/main.scss';\n\n//Package CSS & JS\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nconst App: React.FC = () => {\n  return (\n      <div className=\"app\">\n        <PublicRouter />\n      </div>\n  )\n}\n\nexport default App;\n","import {put, select, takeLatest} from 'redux-saga/effects';\r\nimport {ProductsAddComment, ProductsDeleteComment, productsError, productsFetch} from '../actions';\r\nimport {Product} from \"../types\";\r\nimport {CommonError} from \"../../../types\";\r\nimport {RootState} from \"../../../index\";\r\nimport {storageData} from \"../../../../../common/constants\";\r\nimport {PRODUCTS_ADD_COMMENT, PRODUCTS_DELETE_COMMENT} from \"../constants\";\r\n\r\n\r\n\r\nfunction* commentsAddSaga(action: ProductsAddComment) {\r\n    try {\r\n        let payload: Product[] = yield select( (state: RootState): Product[] =>\r\n            state.public.products.list.map((item: Product): Product => {\r\n                const {productId, comment} = action.payload;\r\n                if (item.id === productId) {\r\n                    item.comments.push(comment)\r\n                    return item\r\n                } else {\r\n                    return item\r\n                }\r\n\r\n            })\r\n        );\r\n        yield localStorage.setItem(storageData, JSON.stringify(payload));\r\n        yield put(productsFetch());\r\n\r\n    } catch (error: any) {\r\n        console.log(error)\r\n        let e: CommonError = error.response;\r\n        yield put(productsError(e));\r\n\r\n    }\r\n}\r\n\r\nfunction* commentsRemoveSaga(action: ProductsDeleteComment) {\r\n    try {\r\n        let payload: Product[] = yield select( (state: RootState): Product[] =>\r\n            state.public.products.list.map(item => {\r\n                const {productId, commentId} = action.payload;\r\n                if (item.id === productId) {\r\n                    item.comments = item.comments.filter(item => item.id !== commentId)\r\n                }\r\n                return item\r\n            })\r\n        );\r\n        yield localStorage.setItem(storageData, JSON.stringify(payload));\r\n        yield put(productsFetch());\r\n\r\n    } catch (error: any) {\r\n        console.log(error)\r\n        let e: CommonError = error.response;\r\n        yield put(productsError(e));\r\n\r\n    }\r\n}\r\n\r\nexport function* rootCommentsSaga() {\r\n    yield takeLatest(PRODUCTS_ADD_COMMENT, commentsAddSaga);\r\n    yield takeLatest(PRODUCTS_DELETE_COMMENT, commentsRemoveSaga);\r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport {all, call} from \"redux-saga/effects\";\r\n\r\nimport {productsReducer, ProductsState, rootProductsSaga} from \"./public/products\";\r\nimport {rootCommentsSaga} from \"./public/products/sagas/commentsSaga\";\r\n\r\nexport interface RootState {\r\n    public: {\r\n        products: ProductsState;\r\n    }\r\n}\r\n\r\n\r\nexport const publicReducer = combineReducers({\r\n    products: productsReducer,\r\n})\r\n\r\n\r\n\r\nexport const rootReducer = combineReducers({\r\n    public: publicReducer,\r\n\r\n});\r\n\r\nexport function* rootSaga() {\r\n    yield all([\r\n        call(rootProductsSaga),\r\n        call(rootCommentsSaga)\r\n    ])\r\n}\r\n","import {createStore, compose, applyMiddleware} from 'redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport { rootReducer } from './reducers';\r\n\r\n/* eslint-disable no-underscore-dangle */\r\nconst composeEnhancers =\r\n    process.env.NODE_ENV !== 'production' &&\r\n    typeof window === 'object' &&\r\n    // @ts-ignore\r\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\r\n        // @ts-ignore\r\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}) : compose;\r\n/* eslint-enable */\r\n\r\nconst sagaMiddleware = createSagaMiddleware();\r\n\r\n\r\nconst store = createStore(\r\n    rootReducer,\r\n    composeEnhancers(applyMiddleware(sagaMiddleware)),\r\n);\r\n\r\nexport {store, sagaMiddleware};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n// Redux store and redux-saga imports\nimport {sagaMiddleware, store} from \"./store/store\";\nimport {rootSaga} from \"./store/reducers\";\nimport {Provider} from \"react-redux\";\n\nsagaMiddleware.run(rootSaga);\n\nconst render = () => ReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root') as HTMLElement,\n);\n\nrender();\n\n"],"sourceRoot":""}